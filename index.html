<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ê¸ˆì§€ì–´ ë½‘ê¸°</title>
  <style>
    body { font-family: system-ui, Arial, sans-serif; padding: 24px; }
    .wrap { max-width: 640px; margin: 0 auto; }
    .card { border: 1px solid #ddd; border-radius: 16px; padding: 18px; }
    h1 { margin: 0 0 10px; font-size: 20px; }
    .muted { color: #666; font-size: 13px; margin: 0 0 14px; }
    .row { display:flex; gap:10px; flex-wrap:wrap; align-items:center; }
    .pill {
      padding: 10px 12px; border: 1px solid #ddd; border-radius: 999px;
      min-width: 110px; text-align:center; font-weight: 800;
    }
    button {
      padding: 10px 14px; border-radius: 12px; border: 1px solid #999;
      background:#fff; cursor:pointer;
    }
    button:disabled { opacity:.45; cursor:not-allowed; }
    .screen { display:none; }
    .screen.active { display:block; }
    ul { margin: 8px 0 0; padding-left: 18px; }
    li { margin: 8px 0; line-height: 1.35; }
    .danger { color: #c00; font-weight: 800; }
    .topbar { display:flex; justify-content:space-between; align-items:center; gap:10px; }
  </style>
</head>

<body>
  <div class="wrap">

    <!-- í™”ë©´ 1: ë½‘ê¸° -->
    <div class="card screen active" id="screenPick">
      <div class="topbar">
        <h1>ğŸ° ê¸ˆì§€ì–´ ë½‘ê¸°</h1>
        <span class="muted">30ê°œ ì¤‘ 3ê°œ ëœë¤</span>
      </div>

      <p class="muted">â€œë½‘ê¸°â€ë¥¼ ëˆ„ë¥´ë©´ ë¡œë˜ì²˜ëŸ¼ ëŒì•„ê°€ë‹¤ê°€ ë©ˆì¶”ë©´ì„œ 3ê°œê°€ í™•ì •ë¼.</p>

      <div class="row" style="margin: 10px 0 14px;">
        <div class="pill" id="w1">-</div>
        <div class="pill" id="w2">-</div>
        <div class="pill" id="w3">-</div>
      </div>

      <div class="row">
        <button id="btnSpin">ë½‘ê¸°</button>
        <button id="btnNext" disabled>ë‹¤ìŒ</button>
        <button id="btnReset" disabled>ë‹¤ì‹œ</button>
      </div>
    </div>

    <!-- í™”ë©´ 2: ê·œì¹™ -->
    <div class="card screen" id="screenRules">
      <div class="topbar">
        <h1>ğŸ“œ ê·œì¹™</h1>
        <button id="btnBack">â† ëŒì•„ê°€ê¸°</button>
      </div>

      <p class="muted">ì´ë²ˆ íŒ ê¸ˆì§€ì–´ 3ê°œ</p>
      <div class="row" style="margin-bottom: 10px;">
        <div class="pill" id="r1">-</div>
        <div class="pill" id="r2">-</div>
        <div class="pill" id="r3">-</div>
      </div>

      <ul>
        <li><b>ê·œì¹™ 1.</b> ê¸ˆì§€ì–´ëŠ” <b>ì „ì²´ê°€ ë‹¤ ëª¨ì¼ ë•Œê¹Œì§€</b> ë§í•˜ì§€ ì•Šê¸°
          <span class="danger">(ë§Œì•½ ê·¸ ì „ì— ë§í•˜ë©´ ë¯¸ì›Œí• ê±°ì•¼)</span></li>
        <li><b>ê·œì¹™ 2.</b> ê¸ˆì§€ì–´ë¥¼ ê¼­ ê¸°ì–µí•˜ê¸° (ì‚¬ì§„, ê¸°ë¡)</li>
        <li><b>ê·œì¹™ 3.</b> ìƒëŒ€ë°©ì´ ê·¸ ë‹¨ì–´ë¥¼ ì“°ë„ë¡ ìœ ë„í•˜ê¸°! (ë§í•˜ë©´ì„œ ê¸ˆì§€ì–´ ê¸€ìê°€ ë‚˜ì˜¤ê¸°!)</li>
      </ul>

      <div class="row" style="margin-top: 14px;">
        <button id="btnNewRound">ìƒˆ íŒ ë½‘ê¸°</button>
      </div>
    </div>

  </div>

  <script>
    // âœ… 30ê°œ ë‹¨ì–´ëŠ” ì—¬ê¸°ë§Œ ë°”ê¾¸ë©´ ë¨
    const WORDS = [
      "ì•„ë‹ˆ", "ê·¼ë°", "ì§„ì§œ", "ëŒ€ë°•", "í—",
      "ì–´ì©”", "ë§í–ˆë‹¤", "ìµœê³ ", "ì‹«ì–´", "ì¢‹ì•„",
      "ë°°ê³ íŒŒ", "í”¼ê³¤", "ì¡¸ë ¤", "ë¯¸ì³¤ë‹¤", "ê¿€ì¼",
      "ë…¸ì¼", "ì˜¤ì¼€ì´", "ì ê¹", "ì¼ë‹¨", "ë§ì•„",
      "ë­ì§€", "ì™œ", "ì´ê±°", "ì €ê±°", "ê·¸ê±°",
      "ê°€ì", "ë©ˆì¶°", "ì¡°ìš©", "ê²Œì„", "í•œì”"
    ];

    // ì—˜ë¦¬ë¨¼íŠ¸
    const screenPick  = document.getElementById("screenPick");
    const screenRules = document.getElementById("screenRules");

    const w1 = document.getElementById("w1");
    const w2 = document.getElementById("w2");
    const w3 = document.getElementById("w3");

    const r1 = document.getElementById("r1");
    const r2 = document.getElementById("r2");
    const r3 = document.getElementById("r3");

    const btnSpin  = document.getElementById("btnSpin");
    const btnNext  = document.getElementById("btnNext");
    const btnReset = document.getElementById("btnReset");
    const btnBack  = document.getElementById("btnBack");
    const btnNewRound = document.getElementById("btnNewRound");

    let picked = [];
    let spinning = false;
    let timer = null;

    function showScreen(which) {
      screenPick.classList.remove("active");
      screenRules.classList.remove("active");
      which.classList.add("active");
    }

    // ì¤‘ë³µ ì—†ì´ 3ê°œ ë½‘ê¸°
    function pick3Unique() {
      const pool = [...WORDS];
      for (let i = pool.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [pool[i], pool[j]] = [pool[j], pool[i]];
      }
      return pool.slice(0, 3);
    }

    // ë¡œë˜ì²˜ëŸ¼ ëŒì•„ê°€ëŠ” íš¨ê³¼
    function spin() {
      if (spinning) return;
      spinning = true;

      btnSpin.disabled = true;
      btnNext.disabled = true;
      btnReset.disabled = true;

      const spinTotalMs = 1700;
      const tickMs = 60;
      const start = Date.now();

      timer = setInterval(() => {
        // ì„ì‹œ í‘œì‹œ(ëŒì•„ê°€ëŠ” ëŠë‚Œ)
        w1.textContent = WORDS[Math.floor(Math.random() * WORDS.length)];
        w2.textContent = WORDS[Math.floor(Math.random() * WORDS.length)];
        w3.textContent = WORDS[Math.floor(Math.random() * WORDS.length)];

        if (Date.now() - start >= spinTotalMs) {
          clearInterval(timer);
          timer = null;

          picked = pick3Unique();
          w1.textContent = picked[0];
          w2.textContent = picked[1];
          w3.textContent = picked[2];

          spinning = false;
          btnNext.disabled = false;
          btnReset.disabled = false;
        }
      }, tickMs);
    }

    function resetPick() {
      if (timer) clearInterval(timer);
      timer = null;
      spinning = false;
      picked = [];

      w1.textContent = "-";
      w2.textContent = "-";
      w3.textContent = "-";

      btnSpin.disabled = false;
      btnNext.disabled = true;
      btnReset.disabled = true;
    }

    function goRules() {
      if (spinning || picked.length !== 3) return;

      // ê·œì¹™ í™”ë©´ì— ë°©ê¸ˆ ë½‘ì€ ê¸ˆì§€ì–´ í‘œì‹œ
      r1.textContent = picked[0];
      r2.textContent = picked[1];
      r3.textContent = picked[2];

      showScreen(screenRules);
    }

    // ì´ë²¤íŠ¸
    btnSpin.addEventListener("click", spin);
    btnReset.addEventListener("click", resetPick);
    btnNext.addEventListener("click", goRules);

    btnBack.addEventListener("click", () => showScreen(screenPick));
    btnNewRound.addEventListener("click", () => {
      resetPick();
      showScreen(screenPick);
    });
  </script>
</body>
</html>

